{"version":3,"file":"static/webpack/static/development/pages/_app.js.e681d87eb88badeae52e.hot-update.js","sources":["webpack:///./components/Nav.js"],"sourcesContent":["import React, { Component } from 'react';\nimport Link from 'next/link';\nimport { Mutation } from 'react-apollo';\nimport Router from 'next/router';\nimport NProgress from 'nprogress';\nimport { TOGGLE_MOBILE_MENU } from './MobileMenu';\nimport { NavWrapper, NavInner } from './styles/NavStyles';\nimport ToggleCartButton from './ToggleCartButton';\nimport ToggleZipButton from './ToggleZipButton';\nimport { MobileNav } from './styles/MobileNavStyles';\nimport MobileMenu from './MobileMenu';\n\nRouter.onRouteChangeStart = () => {\n  NProgress.start();\n};\nRouter.onRouteChangeComplete = () => {\n  NProgress.done();\n};\nRouter.onRouteChangeError = () => {\n  NProgress.done();\n};\n\nclass Nav extends Component {\n  state = {\n    slide: 0, // How much should the Navbar slide up or down\n    lastScrollY: 0, // Keep track of current position in state\n  };\n\n  componentDidMount() {\n    // When this component mounts, begin listening for scroll changes\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    // If this component is unmounted, stop listening\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll = () => {\n    const { lastScrollY } = this.state;\n    const currentScrollY = window.scrollY;\n\n    if (currentScrollY > lastScrollY && currentScrollY > 150) {\n      this.setState({ slide: '-200%' });\n    } else {\n      this.setState({ slide: '0' });\n    }\n    this.setState({ lastScrollY: currentScrollY });\n  };\n\n  render() {\n    const { router, sitewideData, client, localStorageCheckout } = this.props;\n\n    return (\n      <NavWrapper\n        style={{\n          transform: `translate(0, ${this.state.slide})`,\n        }}\n      >\n        {/* ====================================== */}\n        {/* MOBILE NAV */}\n        {/* ====================================== */}\n        <MobileNav>\n          {/* MOBILE NAVBAR ========== */}\n          <div\n            className=\"mobile-navbar\"\n            style={{\n              transform: `translate(0, ${this.state.slide})`,\n            }}\n          >\n            <Mutation mutation={TOGGLE_MOBILE_MENU}>\n              {toggleMobileMenu => (\n                <button\n                  className=\"hamburger\"\n                  onClick={toggleMobileMenu}\n                  type=\"button\"\n                >\n                  <span />\n                  <span />\n                  <span />\n                </button>\n              )}\n            </Mutation>\n\n            <Link href=\"/\">\n              <a className=\"home-link\">\n                <img src=\"/static/logo_mobile.svg\" alt=\"Mobile Lowell Logo\" />\n              </a>\n            </Link>\n            <div className=\"end-content-wrapper\">\n              <ToggleCartButton localStorageCheckout={localStorageCheckout} />\n              <ToggleZipButton />\n            </div>\n          </div>\n\n          {/* MOBILE MENU ========== */}\n          <MobileMenu sitewideData={sitewideData} />\n        </MobileNav>\n\n        {/* ====================================== */}\n        {/* DESKTOP NAV */}\n        {/* ====================================== */}\n        <NavInner>\n          {/* LEFT COLUMN ========== */}\n          <div className=\"left-col\">\n\n          <Link href=\"https://www.lowellcafe.com/\">\n            <a>\n              {sitewideData.data.cafe_link_text != '' &&\n                sitewideData.data.cafe_link_text[0].text}\n            </a>\n          </Link>\n            <Link href=\"/cannabis\">\n              <a className={router.route == '/cannabis' ? 'current-page' : ''}>\n                {sitewideData.data.cannabis_link_text != '' &&\n                  sitewideData.data.cannabis_link_text[0].text}\n              </a>\n            </Link>\n            <Link href=\"/cbd\">\n              <a className={router.route == '/cbd' ? 'current-page' : ''}>\n                {sitewideData.data.cbd_link_text != '' &&\n                  sitewideData.data.cbd_link_text[0].text}\n              </a>\n            </Link>\n            <Link href=\"/gear\">\n              <a className={router.route == '/gear' ? 'current-page' : ''}>\n                {sitewideData.data.gear_link_text != '' &&\n                  sitewideData.data.gear_link_text[0].text}\n              </a>\n            </Link>\n\n          </div>\n\n          {/* LOGO ========== */}\n          <Link href=\"/\">\n            <a className=\"home-link hide-mobile-nav\">\n              <img\n                src={sitewideData.data.logo != '' && sitewideData.data.logo.url}\n                alt=\"Home Link\"\n                title=\"home\"\n              />\n            </a>\n          </Link>\n\n          {/* RIGHT COLUMN ========== */}\n          <div className=\"right-col\">\n            <Link href=\"/stockists\">\n              <a className={router.route == '/stockists' ? 'current-page' : ''}>\n                {sitewideData.data.stockists_link_text != '' &&\n                  sitewideData.data.stockists_link_text[0].text}\n              </a>\n            </Link>\n            <Link href=\"/about\">\n              <a className={router.route == '/about' ? 'current-page' : ''}>\n                {sitewideData.data.about_link_text != '' &&\n                  sitewideData.data.about_link_text[0].text}\n              </a>\n            </Link>\n            <ToggleCartButton localStorageCheckout={localStorageCheckout} />\n            <ToggleZipButton />\n          </div>\n        </NavInner>\n      </NavWrapper>\n    );\n  }\n}\n\nexport default Nav;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AAAA;AACA;AACA;AAHA;AACA;AAcA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AArBA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AADA;AADA;AAWA;AACA;AACA;AADA;AAFA;AAMA;AAAA;AACA;AAEA;AACA;AACA;AAHA;AADA;AAaA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAGA;AAAA;AACA;AAAA;AAMA;AAAA;AAQA;AAAA;AAEA;AAAA;AAMA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AASA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AASA;AAAA;AACA;AAAA;AACA;AAAA;AAKA;AAAA;AACA;AAAA;AAKA;AAAA;AAMA;;;;AA9IA;AACA;AAgJA;;;;A","sourceRoot":""}