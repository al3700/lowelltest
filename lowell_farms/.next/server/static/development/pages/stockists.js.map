{"version":3,"file":"static/development/pages/stockists.js","sources":["webpack:///webpack/bootstrap","webpack:///./api/index.js","webpack:///./components/DeliveryBanner.js","webpack:///./components/Newsletter.js","webpack:///./components/Quote.js","webpack:///./components/Stockist.js","webpack:///./components/Stockists.js","webpack:///./components/StockistsDelivery.js","webpack:///./components/ZipCodeCheck.js","webpack:///./components/ZipCodeForm.js","webpack:///./components/styles/ButtonDark.js","webpack:///./components/styles/DeliveryBarStyles.js","webpack:///./components/styles/DeliveryStyles.js","webpack:///./components/styles/Input.js","webpack:///./components/styles/NewsletterCallout.js","webpack:///./components/styles/Quotes.js","webpack:///./components/styles/ZipCodeCheckStyles.js","webpack:///./components/styles/sections/stockistsStyles.js","webpack:///./config.js","webpack:///./lib/helpers.js","webpack:///./pages/stockists.js","webpack:///external \"@babel/runtime/regenerator\"","webpack:///external \"graphql-tag\"","webpack:///external \"next/head\"","webpack:///external \"prismic-javascript\"","webpack:///external \"prismic-reactjs\"","webpack:///external \"react\"","webpack:///external \"react-apollo\"","webpack:///external \"styled-components\"","webpack:///external \"zipcodes\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n","import Prismic from 'prismic-javascript';\nimport { PRISMIC_API_URL } from '../config';\n\nconst getBlogPostsAPI = async params => {\n  try {\n    // We initialise the API with Prismic's kit\n    const API = await Prismic.api(PRISMIC_API_URL);\n    // Here we just query the documents with a filter of only returning\n    // the type of blog_post and order them. Full docs can be found here:\n    // https://github.com/prismicio/prismic-javascript#query-the-content\n    const response = await API.query(\n      Prismic.Predicates.at('document.type', 'blog_post'),\n      {\n        orderings: '[my.blog_post.date desc]',\n        ...params,\n        // params will be extra parameters we can pass through with api calls\n        // such as how many documents to return\n      }\n    );\n    return response;\n  } catch (error) {\n    return error;\n  }\n};\n\nconst getPageApi = async pageId => {\n  try {\n    const API = await Prismic.api(PRISMIC_API_URL);\n    // we pass up the slug to request the correct post\n    const response = await API.query(\n      Prismic.Predicates.at('document.id', pageId),\n      { pageSize: 100 }\n    );\n    return response.results[0];\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n};\n\nconst getPageByType = async pageType => {\n  try {\n    const API = await Prismic.api(PRISMIC_API_URL);\n    // we pass up the slug to request the correct post\n    const response = await API.query(\n      Prismic.Predicates.at('document.type', pageType),\n      { pageSize: 100 }\n    );\n    return response.results;\n  } catch (error) {\n    console.error(error);\n    return error;\n  }\n};\n\nexport { getPageApi, getBlogPostsAPI, getPageByType };\n","import React, { Component } from 'react';\nimport { Query } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport { RichText } from 'prismic-reactjs';\nimport zipcodes from 'zipcodes';\nimport { ZIP_CODE_QUERY } from './ZipCodeCheck';\nimport DeliveryBarStyles from './styles/DeliveryBarStyles';\n\nconst ZIP_BANNER_QUERY = gql`\n  query {\n    zipCodeBannerShowing @client\n  }\n`;\n\nconst TOGGLE_ZIP_BANNER_MUTATION = gql`\n  mutation {\n    toggleZipBanner @client\n  }\n`;\n\nclass DeliveryBanner extends Component {\n  state = {\n    slide: 0, // How much should the Navbar slide up or down\n    lastScrollY: 0, // Keep track of current position in state\n    position: 'down',\n  };\n\n  componentDidMount() {\n    // When this component mounts, begin listening for scroll changes\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    // If this component is unmounted, stop listening\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll = () => {\n    const { lastScrollY } = this.state;\n    const currentScrollY = window.scrollY;\n\n    if (currentScrollY > lastScrollY && currentScrollY > 150) {\n      this.setState({ position: 'up' });\n    } else {\n      this.setState({ position: 'down' });\n    }\n    this.setState({ lastScrollY: currentScrollY });\n  };\n\n  render() {\n    const { zipCodeData, handle } = this.props;\n\n    const cannabisZipCodes = zipCodeData.cannabis_delivery_zones;\n\n    const deliveryZipCodes = cannabisZipCodes.map(\n      zipCodeItem => zipCodeItem.zip_code\n    );\n\n    return (\n      <Query query={ZIP_BANNER_QUERY}>\n        {({ data: { zipCodeBannerShowing } }) => (\n          <Query query={ZIP_CODE_QUERY}>\n            {({ data: { zipCode } }) => {\n              if (zipCode == '') return null;\n\n              // GET STATE FROM ZIP CODE\n              const locationInfoByZip =\n                zipCode != '' ? zipcodes.lookup(zipCode) : '';\n              const zipCodeState =\n                locationInfoByZip != '' ? locationInfoByZip.state : '';\n\n              // LOGIC TO DETERMINE WHICH SCREEN SHOULD BE SHOWN\n              let screen;\n              let CBDExclusionZones;\n              let isInExcludedZone;\n\n              if (handle == 'CBD') {\n                // RESTRICT CBD SHIPPING TO SOME STATES\n                CBDExclusionZones =\n                  zipCodeData.cbd_exclusion_zones != '' &&\n                  zipCodeData.cbd_exclusion_zones != null\n                    ? RichText.asText(zipCodeData.cbd_exclusion_zones)\n                    : '';\n                isInExcludedZone = CBDExclusionZones.includes(zipCodeState);\n              }\n\n              // CBD - Display stockists if in CA,\n              // If outside CA -  CBD can be shipped so enable buy buttons and hide this section (default return)\n              if (handle == 'CBD' && isInExcludedZone && zipCodeState == 'CA') {\n                screen = 'cbd-stockists';\n              } else if (\n                (handle == 'CBD' &&\n                  zipCodeData.cbd_shipping_launched == 'false') ||\n                (handle == 'CBD' && isInExcludedZone)\n              ) {\n                screen = 'cbd-not-available';\n              } else if (handle == 'CBD' && zipCodeState != 'CA') {\n                screen = 'cbd-ship';\n              }\n\n              // console.log(screen);\n\n              // CANNABIS - Display stockists if in CA but not in delivery zone\n              // If not in CA show not available screen\n              // If in delivery zone enable buy buttons and hide this section completely (default return)\n              if (\n                handle == 'Cannabis' &&\n                zipCodeState == 'CA' &&\n                (!deliveryZipCodes.includes(zipCode) ||\n                  zipCodeData.delivery_service_launched != 'true')\n              ) {\n                screen = 'cannabis-stockists';\n              } else if (handle == 'Cannabis' && zipCodeState == 'CA') {\n                screen = 'cannabis-deliver';\n              }\n\n              // WE DELIVER CANNABIS TO YOUR LOCATION SCREEN\n              if (screen == 'cannabis-deliver') {\n                return (\n                  <DeliveryBarStyles\n                    zipUpdated={zipCodeBannerShowing}\n                    position={this.state.position}\n                  >\n                    <p>\n                      {zipCodeData.cannabis_delivery_zone_notification != '' &&\n                        RichText.asText(\n                          zipCodeData.cannabis_delivery_zone_notification\n                        )}\n                    </p>\n                  </DeliveryBarStyles>\n                );\n              }\n\n              // CANNABIS STOCKISTS SCREEN (IN CA, OUTSIDE DELIVERY ZONE)===========\n              if (screen == 'cannabis-stockists') {\n                return (\n                  <DeliveryBarStyles\n                    zipUpdated={zipCodeBannerShowing}\n                    position={this.state.position}\n                  >\n                    <p>\n                      {zipCodeData.cannabis_available_for_purchase_notificiation !=\n                        '' &&\n                        RichText.asText(\n                          zipCodeData.cannabis_available_for_purchase_notificiation\n                        )}\n                    </p>\n                  </DeliveryBarStyles>\n                );\n              }\n\n              // STOCKISTS SCREEN (CBD IN CA) ===========\n              if (screen == 'cbd-stockists') {\n                return (\n                  <DeliveryBarStyles\n                    zipUpdated={zipCodeBannerShowing}\n                    position={this.state.position}\n                  >\n                    <p>\n                      {zipCodeData.cbd_available_for_purchase_notification !=\n                        '' &&\n                        RichText.asText(\n                          zipCodeData.cbd_available_for_purchase_notification\n                        )}\n                    </p>\n                  </DeliveryBarStyles>\n                );\n              }\n\n              // WE SHIP TO YOUR LOCATION SCREEN (OUT OF CA)\n              if (screen == 'cbd-ship') {\n                return (\n                  <DeliveryBarStyles\n                    zipUpdated={zipCodeBannerShowing}\n                    position={this.state.position}\n                  >\n                    <p>\n                      {zipCodeData.cbd_available_for_shipping_notification !=\n                        '' &&\n                        RichText.asText(\n                          zipCodeData.cbd_available_for_shipping_notification\n                        )}\n                    </p>\n                  </DeliveryBarStyles>\n                );\n              }\n\n              if (screen == 'cbd-not-available') {\n                return (\n                  <DeliveryBarStyles\n                    zipUpdated={zipCodeBannerShowing}\n                    position={this.state.position}\n                  >\n                    <p>\n                      {zipCodeData.cbd_not_available_notification != '' &&\n                        RichText.asText(\n                          zipCodeData.cbd_not_available_notification\n                        )}\n                    </p>\n                  </DeliveryBarStyles>\n                );\n              }\n\n              // Cannabis & not in delivery zone\n              return (\n                <DeliveryBarStyles\n                  zipUpdated={zipCodeBannerShowing}\n                  style={{\n                    top: `${this.state.position}`,\n                  }}\n                >\n                  <p>\n                    {zipCodeData.cannabis_not_available_notification != '' &&\n                      RichText.asText(\n                        zipCodeData.cannabis_not_available_notification\n                      )}\n                  </p>\n                </DeliveryBarStyles>\n              );\n            }}\n          </Query>\n        )}\n      </Query>\n    );\n  }\n}\n\nexport default DeliveryBanner;\nexport { ZIP_BANNER_QUERY, TOGGLE_ZIP_BANNER_MUTATION };\n","import React, { Component } from 'react';\nimport { RichText } from 'prismic-reactjs';\nimport NewsletterCallout from './styles/NewsletterCallout';\nimport Input from './styles/Input';\nimport ButtonDark from './styles/ButtonDark';\n\nexport default class Newsletter extends Component {\n  state = {\n    emailAddress: '',\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ emailAddress: value });\n  };\n\n  render() {\n    const { newsletterData, page } = this.props;\n\n    let bgColor;\n\n    switch (page) {\n      case 'cbd':\n        bgColor = '#d1d3cb';\n        break;\n      case 'cannabis':\n        bgColor = '#C4C0B0';\n        break;\n      case 'cafe':\n        bgColor = '#C4C0B0';\n        break;\n      default:\n        bgColor = '#ECEBE9';\n    }\n\n    return (\n      <NewsletterCallout style={{ backgroundColor: bgColor }}>\n        <div id=\"mc_embed_signup\">\n          <form\n            action=\"https://lowellsmokes.us17.list-manage.com/subscribe/post?u=092e1f0ca656e0ef4ceb5bb0d&amp;id=1597a2471d\"\n            method=\"post\"\n            id=\"mc-embedded-subscribe-form\"\n            name=\"mc-embedded-subscribe-form\"\n            className=\"validate container\"\n            target=\"_blank\"\n            noValidate\n          >\n            <h4>\n              {newsletterData.newsletter_heading != '' &&\n                RichText.asText(newsletterData.newsletter_heading)}\n            </h4>\n            <div id=\"mc_embed_signup_scroll\">\n              <div className=\"mc-field-group\">\n                <Input\n                  type=\"email\"\n                  onChange={this.handleChange}\n                  value={this.state.emailAddress}\n                  name=\"EMAIL\"\n                  className=\"required email\"\n                  id=\"mce-EMAIL\"\n                  placeholder={\n                    newsletterData.newsletter_placeholder_text != '' &&\n                    RichText.asText(newsletterData.newsletter_placeholder_text)\n                  }\n                />\n              </div>\n              <div id=\"mce-responses\" className=\"clear\">\n                <div\n                  className=\"response\"\n                  id=\"mce-error-response\"\n                  style={{ display: 'none' }}\n                />\n                <div\n                  className=\"response\"\n                  id=\"mce-success-response\"\n                  style={{ display: 'none' }}\n                />\n              </div>\n              <div\n                style={{ position: 'absolute', left: '-5000px' }}\n                aria-hidden=\"true\"\n              >\n                <input\n                  type=\"text\"\n                  name=\"b_092e1f0ca656e0ef4ceb5bb0d_1597a2471d\"\n                  tabIndex=\"-1\"\n                  value=\"\"\n                  readOnly\n                />\n              </div>\n              <ButtonDark\n                type=\"submit\"\n                name=\"subscribe\"\n                id=\"mc-embedded-subscribe\"\n              >\n                {newsletterData.newsletter_button_text != '' &&\n                  RichText.asText(newsletterData.newsletter_button_text)}\n              </ButtonDark>\n            </div>\n          </form>\n        </div>\n      </NewsletterCallout>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport QuoteSection from './styles/Quotes';\n\nexport default class Quote extends Component {\n  render() {\n    const { quotesData, index, styleClass } = this.props;\n    return (\n      <QuoteSection className={styleClass != '' ? styleClass : ''}>\n        <a\n          href={quotesData[index].link != '' && quotesData[index].link.url}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          <h4 className=\"quote\">\n            &ldquo;{quotesData[index].quote[0].text}&rdquo;\n          </h4>\n          <p className=\"publication\">\n            &mdash; {quotesData[index].publication[0].text}\n          </p>\n        </a>\n      </QuoteSection>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { RichText } from 'prismic-reactjs';\n\nexport default class Stockist extends Component {\n  render() {\n    const { stockist, stockistType } = this.props;\n\n    // Retailer\n    if (stockistType == 'retailer' && stockist.stockist_url != '') {\n      const addressURL = `https://www.google.com/maps/place/${RichText.asText(\n        stockist.stockist_address\n      )\n        .split(' ')\n        .join('+')}`;\n\n      return (\n        <ListItem>\n          <a\n            href={\n              stockist.stockist_url != '' &&\n              RichText.asText(stockist.stockist_url)\n            }\n            target=\"_blank\"\n          >\n            <h2>\n              {stockist.stockist_name != '' &&\n                RichText.asText(stockist.stockist_name)}\n            </h2>\n          </a>\n          <p>\n            <a href={addressURL} target=\"_blank\">\n              {stockist.stockist_address != '' &&\n                RichText.asText(stockist.stockist_address)}\n            </a>\n          </p>\n        </ListItem>\n      );\n    }\n    if (stockistType == 'retailer') {\n      const addressURL = `https://www.google.com/maps/place/${RichText.asText(\n        stockist.stockist_address\n      )\n        .split(' ')\n        .join('+')}`;\n\n      return (\n        <ListItem>\n          <a href={addressURL} target=\"_blank\">\n            <h2>\n              {stockist.stockist_name != '' &&\n                RichText.asText(stockist.stockist_name)}\n            </h2>\n            <p>\n              {stockist.stockist_address != '' &&\n                RichText.asText(stockist.stockist_address)}\n            </p>\n          </a>\n        </ListItem>\n      );\n    }\n\n    const deliveryUrl = RichText.asText(stockist.delivery_service_url);\n\n    if (stockist.delivery_service_url != '' && stockistType == 'delivery') {\n      let readableUrl = deliveryUrl.replace(/(^\\w+:|^)\\/\\//, '');\n      readableUrl = readableUrl.replace(/\\/$/, '');\n      return (\n        <ListItem>\n          <a href={deliveryUrl} target=\"_blank\">\n            <h2>\n              {stockist.delivery_service_name != '' &&\n                RichText.asText(stockist.delivery_service_name)}\n            </h2>\n            <p>{readableUrl}</p>\n          </a>\n        </ListItem>\n      );\n    }\n\n    // Delivery Service\n    return (\n      <ListItem>\n        <h2>\n          {stockist.delivery_service_name != '' &&\n            RichText.asText(stockist.delivery_service_name)}\n        </h2>\n      </ListItem>\n    );\n  }\n}\n\nconst ListItem = styled.li`\n  border: 1px solid #cecbc5;\n  padding: 30px;\n  margin-bottom: 20px;\n  @media screen and (max-width: 768px) {\n    padding: 30px 20px;\n  }\n  h2 {\n    font-family: 'Gotham Bold';\n    font-size: 2.4rem;\n    margin: 0;\n    text-transform: uppercase;\n    letter-spacing: 0.1rem;\n    color: #726c59;\n    @media screen and (max-width: 768px) {\n      font-size: 1.8rem;\n      line-height: 1.2;\n    }\n  }\n  p {\n    margin: 0;\n    font-family: 'Nitti Light';\n    color: #333639;\n    font-size: 1.5rem;\n    @media screen and (max-width: 768px) {\n      font-size: 1.3rem;\n      line-height: 1.2;\n      margin-top: 4px;\n    }\n  }\n  a {\n    color: inherit;\n    text-transform: uppercase;\n  }\n`;\n","/* eslint-disable react/prop-types */\n/* eslint-disable class-methods-use-this */\n/* eslint-disable react/destructuring-assignment */\nimport React, { Component } from 'react';\nimport Head from 'next/head';\nimport { RichText } from 'prismic-reactjs';\nimport { Query } from 'react-apollo';\nimport zipcodes from 'zipcodes';\nimport Stockist from './Stockist';\nimport Quote from './Quote';\nimport Newsletter from './Newsletter';\nimport {\n  mapStockistsToZip,\n  findClosestDeliveryServices,\n  findClosestRetailers,\n} from '../lib/helpers';\nimport {\n  StockistWrapper,\n  StockistsSection,\n} from './styles/sections/stockistsStyles';\nimport StockistsDelivery from './StockistsDelivery';\nimport { ZIP_CODE_QUERY } from './ZipCodeCheck';\nimport ButtonDark from './styles/ButtonDark';\n\nclass Stockists extends Component {\n  constructor(props) {\n    super(props);\n\n    const stockistsWithZip = mapStockistsToZip(this.props.pageData.stockists);\n\n    this.state = {\n      deliveryServicesCount: 2,\n      deliveryServices: this.props.pageData.delivery_services,\n      retailers: stockistsWithZip,\n    };\n  }\n\n  viewMoreDeliveryServices = deliveryServicesInZip => {\n    // Show 6 more delivery services each time the button is clicked\n    if (\n      this.state.deliveryServicesCount + 6 <\n      deliveryServicesInZip.length - 1\n    ) {\n      this.setState({\n        deliveryServicesCount: this.state.deliveryServicesCount + 6,\n      });\n    } else {\n      this.setState({\n        deliveryServicesCount: deliveryServicesInZip.length - 1,\n      });\n    }\n  };\n\n  render() {\n    const { pageData, quotesData, newsletterData, zipCodeData } = this.props;\n\n    return (\n      <div>\n        <Head>\n          {pageData.meta_description != null && (\n            <title> {pageData.meta_title}</title>\n          )}\n          {pageData.meta_description != null && (\n            <meta name=\"description\" content={pageData.meta_description} />\n          )}\n          {pageData.keywords != null && (\n            <meta name=\"keywords\" content={pageData.keywords} />\n          )}\n          <link href=\"https://www.lowellfarms.com/stockists\" rel=\"canonical\" />\n        </Head>\n        <Query query={ZIP_CODE_QUERY}>\n          {({ data: { zipCode } }) => {\n            const locationInfoByZip =\n              zipCode != '' ? zipcodes.lookup(zipCode) : '';\n            const zipCodeState =\n              locationInfoByZip != '' ? locationInfoByZip.state : '';\n\n            // console.log(distance);\n            // console.log(this.state.retailers[0].zip);\n\n            // Find retailers and delivery services closest to zip code\n            let closestRetailers = [];\n            if (zipCode != '') {\n              closestRetailers = findClosestRetailers(\n                this.state.retailers,\n                zipCode,\n                zipcodes\n              );\n            } else {\n              closestRetailers = this.state.retailers;\n            }\n\n            let closestDeliveryServices = [];\n            if (zipCode != '') {\n              closestDeliveryServices = findClosestDeliveryServices(\n                this.state.deliveryServices,\n                zipCode\n              );\n            } else {\n              closestDeliveryServices = this.state.deliveryServices;\n            }\n\n            return (\n              <StockistWrapper>\n                <StockistsDelivery\n                  pageData={pageData}\n                  zipCode={zipCode}\n                  zipCodeState={zipCodeState}\n                  zipCodeData={zipCodeData}\n                />\n\n                {closestDeliveryServices.length > 0 && (\n                  <StockistsSection className=\"container\">\n                    <h2 className=\"section-title\">\n                      <span>\n                        <img\n                          src={pageData.delivery_services_icon.url}\n                          alt=\"Lowell Retailers\"\n                          width=\"35\"\n                        />\n                      </span>\n                      {RichText.asText(pageData.delivery_services_heading)}\n                    </h2>\n                    <ul>\n                      {closestDeliveryServices.map((deliveryService, index) => {\n                        if (index > this.state.deliveryServicesCount)\n                          return null;\n                        return (\n                          <Stockist\n                            key={RichText.asText(\n                              deliveryService.delivery_service_name\n                            )}\n                            stockist={deliveryService}\n                            stockistType=\"delivery\"\n                          />\n                        );\n                      })}\n                    </ul>\n                    {this.state.deliveryServicesCount <\n                      closestDeliveryServices.length - 1 && (\n                      <ButtonDark\n                        type=\"button\"\n                        onClick={() => {\n                          this.viewMoreDeliveryServices(\n                            closestDeliveryServices\n                          );\n                        }}\n                        className=\"view-more-btn\"\n                      >\n                        View More\n                      </ButtonDark>\n                    )}\n                  </StockistsSection>\n                )}\n\n                <StockistsSection className=\"container\">\n                  <h2 className=\"section-title\">\n                    <span>\n                      <img\n                        src={pageData.retailers_icon.url}\n                        alt=\"Lowell Retailers\"\n                        width=\"35\"\n                      />\n                    </span>\n                    {RichText.asText(pageData.retailers_heading)}\n                  </h2>\n                  <ul>\n                    {closestRetailers != '' &&\n                      closestRetailers.map(retailer => (\n                        <Stockist\n                          key={RichText.asText(retailer.stockist_name)}\n                          stockist={retailer}\n                          stockistType=\"retailer\"\n                        />\n                      ))}\n                  </ul>\n                </StockistsSection>\n                <div className=\"container-sm\">\n                  <Quote quotesData={quotesData} index={0} />\n                </div>\n                <Newsletter newsletterData={newsletterData} page=\"stockists\" />\n              </StockistWrapper>\n            );\n          }}\n        </Query>\n      </div>\n    );\n  }\n}\n\nexport default Stockists;\n","import React, { Component } from 'react';\nimport { Mutation, Query } from 'react-apollo';\nimport { RichText } from 'prismic-reactjs';\nimport DeliveryStyles, {\n  StockistDeliveryStyles,\n} from './styles/DeliveryStyles';\nimport ZipCodeForm from './ZipCodeForm';\n\nimport { TOGGLE_ZIP_MUTATION } from './ZipCodeCheck';\n\nclass StockistsDelivery extends Component {\n  render() {\n    const { pageData, zipCode, zipCodeState, zipCodeData } = this.props;\n\n    // RESTRICT CBD SHIPPING TO SOME STATES\n    const CBDExclusionZones =\n      zipCodeData.cbd_exclusion_zones != '' &&\n      zipCodeData.cbd_exclusion_zones != null\n        ? RichText.asText(zipCodeData.cbd_exclusion_zones)\n        : '';\n    const isInExcludedZone = CBDExclusionZones.includes(zipCodeState);\n\n    // ZIP CODE NOT ENTERED\n    if (zipCode == '') {\n      return (\n        <StockistDeliveryStyles>\n          <div>\n            <h1>\n              {pageData.page_heading != '' &&\n                RichText.asText(pageData.page_heading)}\n            </h1>\n            <DeliveryStyles className=\"container stockists-delivery\">\n              <ZipCodeForm\n                placeholderText=\"Your Zip Code:\"\n                buttonText={RichText.asText(pageData.find_button_text)}\n              />\n            </DeliveryStyles>\n          </div>\n        </StockistDeliveryStyles>\n      );\n    }\n\n    // IN CA\n    if (zipCode != '' && zipCodeState == 'CA') {\n      return (\n        <StockistDeliveryStyles>\n          <div className=\"near-you-section\">\n            <h1>\n              {pageData.near_you_heading != '' &&\n                RichText.asText(pageData.near_you_heading)}\n            </h1>\n            <Mutation mutation={TOGGLE_ZIP_MUTATION}>\n              {toggleZipCodeCheck => (\n                <button\n                  onClick={toggleZipCodeCheck}\n                  type=\"button\"\n                  className=\"text-button\"\n                >\n                  Not in {zipCode}? Change location.\n                </button>\n              )}\n            </Mutation>\n          </div>\n        </StockistDeliveryStyles>\n      );\n    }\n    // OUT OF CA\n    if (zipCode != '' && zipCodeState != 'CA') {\n      return (\n        <StockistDeliveryStyles>\n          <div className=\"not-near-you-section container\">\n            <h1>\n              {pageData.not_near_you_heading != '' &&\n                RichText.asText(pageData.not_near_you_heading)}\n            </h1>\n            <p className=\"delivery-subheading\">\n              {pageData.not_near_you_subheading != '' &&\n                RichText.asText(pageData.not_near_you_subheading)}\n            </p>\n            <Mutation mutation={TOGGLE_ZIP_MUTATION}>\n              {toggleZipCodeCheck => (\n                <button\n                  onClick={toggleZipCodeCheck}\n                  type=\"button\"\n                  className=\"text-button\"\n                >\n                  Not in {zipCode}? Change location.\n                </button>\n              )}\n            </Mutation>\n\n            <hr />\n\n            <p className=\"delivery-subheading\">\n              {isInExcludedZone &&\n                pageData.we_ship_to_your_area_no_cbd != '' &&\n                RichText.asText(pageData.we_ship_to_your_area_no_cbd)}\n              {!isInExcludedZone &&\n                pageData.we_ship_to_your_area != '' &&\n                RichText.asText(pageData.we_ship_to_your_area)}\n            </p>\n            <div className=\"button-row\">\n              {!isInExcludedZone && (\n                <a\n                  href={\n                    pageData.cbd_button_link != '' &&\n                    RichText.asText(pageData.cbd_button_link)\n                  }\n                  className=\"gold-btn\"\n                >\n                  Lowell CBD\n                </a>\n              )}\n\n              <a\n                href={\n                  pageData.gear_link != '' &&\n                  RichText.asText(pageData.gear_link)\n                }\n                className={`gold-btn ${isInExcludedZone ? ' solo-btn' : ''}`}\n              >\n                Lowell Gear\n              </a>\n            </div>\n          </div>\n        </StockistDeliveryStyles>\n      );\n    }\n    return <div />;\n  }\n}\n\nexport default StockistsDelivery;\n","import React, { Component } from 'react';\nimport { Query, Mutation } from 'react-apollo';\nimport gql from 'graphql-tag';\nimport ZipCodeCheckStyles from './styles/ZipCodeCheckStyles';\nimport ZipCodeForm from './ZipCodeForm';\n\nconst ZIP_SCREEN_QUERY = gql`\n  query {\n    zipCodeCheckOpen @client\n  }\n`;\n\nconst TOGGLE_ZIP_MUTATION = gql`\n  mutation {\n    toggleZipCodeCheck @client\n  }\n`;\n\nconst ZIP_CODE_QUERY = gql`\n  query {\n    zipCode @client\n  }\n`;\n\nconst UPDATE_ZIP_CODE_MUTATION = gql`\n  mutation($zipCode: String!) {\n    updateZipCode(zipCode: $zipCode) @client\n  }\n`;\n\nclass ZipCodeCheck extends Component {\n  state = {\n    slide: 0, // How much should the Navbar slide up or down\n    lastScrollY: 0, // Keep track of current position in state\n    opacityVal: 1,\n  };\n\n  componentDidMount() {\n    // When this component mounts, begin listening for scroll changes\n    window.addEventListener('scroll', this.handleScroll);\n  }\n\n  componentWillUnmount() {\n    // If this component is unmounted, stop listening\n    window.removeEventListener('scroll', this.handleScroll);\n  }\n\n  handleScroll = () => {\n    const { lastScrollY } = this.state;\n    const currentScrollY = window.scrollY;\n\n    if (currentScrollY > lastScrollY && currentScrollY > 150) {\n      this.props.client.writeData({\n        data: {\n          zipCodeCheckOpen: false,\n        },\n      });\n    }\n  };\n\n  toggleZipCodeScreen = (e, toggleZipCodeCheck) => {\n    if (e.target.closest('.zip-code-check-wrapper') == null) {\n      toggleZipCodeCheck();\n    }\n  };\n\n  render() {\n    return (\n      <Mutation mutation={TOGGLE_ZIP_MUTATION}>\n        {toggleZipCodeCheck => (\n          <Query query={ZIP_SCREEN_QUERY}>\n            {({ data }) => (\n              <ZipCodeCheckStyles\n                open={data.zipCodeCheckOpen}\n                style={{\n                  marginTop: `${this.state.slide}`,\n                  opacity: `${this.state.opacityVal}`,\n                }}\n                onClick={e => this.toggleZipCodeScreen(e, toggleZipCodeCheck)}\n              >\n                <div className=\"zip-code-check-wrapper\">\n                  <h2>Update your location:</h2>\n                  <ZipCodeForm\n                    placeholderText=\"EX: 90028\"\n                    buttonText=\"Update\"\n                  />\n                </div>\n              </ZipCodeCheckStyles>\n            )}\n          </Query>\n        )}\n      </Mutation>\n    );\n  }\n}\n\nexport default ZipCodeCheck;\nexport {\n  ZIP_SCREEN_QUERY,\n  TOGGLE_ZIP_MUTATION,\n  ZIP_CODE_QUERY,\n  UPDATE_ZIP_CODE_MUTATION,\n};\n","import React, { Component } from 'react';\nimport { Query, Mutation } from 'react-apollo';\n\nimport zipcodes from 'zipcodes';\nimport { UPDATE_ZIP_CODE_MUTATION } from './ZipCodeCheck';\nimport { TOGGLE_ZIP_BANNER_MUTATION } from './DeliveryBanner';\nimport Input from './styles/Input';\n\nexport default class Delivery extends Component {\n  state = {\n    zipCode: '',\n    invalidZip: false,\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    if (value.length < 6) {\n      this.setState({ [name]: value });\n    }\n  };\n\n  render() {\n    const { placeholderText, buttonText, findNearestStockists } = this.props;\n    return (\n      <Mutation mutation={TOGGLE_ZIP_BANNER_MUTATION}>\n        {(toggleZipBanner, { loading, error }) => (\n          <Mutation mutation={UPDATE_ZIP_CODE_MUTATION} variables={this.state}>\n            {(updateZipCode, { loading, error }) => (\n              <fieldset disabled={loading} aria-busy={loading}>\n                <form\n                  action=\"\"\n                  autoComplete=\"off\"\n                  onSubmit={async e => {\n                    e.preventDefault();\n\n                    // Check for valid zip syntax (5 numbers)\n                    const isValidZip = /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(\n                      this.state.zipCode\n                    );\n\n                    // Look up zip code in valid zip codes\n                    const locationInfo = zipcodes.lookup(\n                      this.state.zipCode\n                    );\n\n                    if (!isValidZip || locationInfo == undefined) {\n                      this.setState({ invalidZip: true });\n                      return;\n                    }\n\n                    // IS VALID ZIP -> Store in Apollo state\n                    this.setState({ invalidZip: false });\n                    const res = await updateZipCode();\n\n                    // Reset form\n                    this.setState({ zipCode: '' });\n                  }}\n                >\n                  <div className=\"validation-wrapper\">\n                    <Input\n                      type=\"number\"\n                      id=\"zipCode\"\n                      name=\"zipCode\"\n                      placeholder={placeholderText}\n                      value={this.state.zipCode}\n                      onChange={this.handleChange}\n                    />\n                    {this.state.invalidZip && (\n                      <p className=\"error-message\">\n                        Please enter a valid 5 digit zip code.\n                      </p>\n                    )}\n                  </div>\n\n                  <button type=\"submit\" className=\"wider\">\n                    {buttonText}\n                  </button>\n                </form>\n              </fieldset>\n            )}\n          </Mutation>\n        )}\n      </Mutation>\n    );\n  }\n}\n","import styled from 'styled-components';\n\nconst BuyButton = styled.button`\n  background: #333639;\n  color: #f6f6f6;\n  padding: 18px 50px;\n  text-transform: uppercase;\n  font-family: 'Gotham Bold', sans-serif;\n  letter-spacing: 0.1rem;\n  display: block;\n  width: 100%;\n  outline: none;\n  border: none;\n  cursor: pointer;\n  font-size: 1.3rem;\n  line-height: 1;\n  transition: all 0.4s ease-in-out;\n  &.add-to-cart {\n    margin-top: 30px;\n  }\n  &.wider {\n    max-width: 554px;\n    width: 100%;\n    padding: 20px 50px;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n    margin-top: 70px;\n  }\n  &:hover {\n    background-color: #242628;\n  }\n  &:disabled {\n    cursor: default;\n    &:hover {\n      background: #333639;\n    }\n  }\n`;\n\nexport default BuyButton;\n","import styled, { keyframes } from 'styled-components';\n\nconst slideDownBanner = keyframes`\n  0%, 100% {\n    /* transform: translateY(-200%); */\n  }\n  4%, 96% {\n    transform: translateY(0);\n  }\n`;\n\nconst DeliveryBarStyles = styled.div`\n  padding: 40px 20px 22px;\n  position: fixed;\n  background: rgba(88, 83, 68, 0.9);\n  color: white;\n  top: 75px;\n  right: 0;\n  left: 0;\n  width: 100%;\n  transform: translateY(-200%);\n  transition: all 0.3s ease-out;\n  z-index: 90;\n  text-align: center;\n  overflow-y: scroll;\n  text-transform: uppercase;\n  ${props =>\n    props.zipUpdated && `animation: 1.5s ${slideDownBanner} ease-out;`};\n  ${props => (props.position == 'down' ? `top: 75px;` : `top: -20px;`)};\n  @media screen and (max-width: 960px) {\n    padding: 16px 20px;\n    ${props => (props.position == 'down' ? `top: 45px;` : `top: 0;`)};\n  }\n  p {\n    max-width: 320px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n`;\n\nexport default DeliveryBarStyles;\n","import styled from 'styled-components';\n\nconst DeliveryStyles = styled.div`\n  background-color: #e0dcd6;\n  padding-top: 90px;\n  padding-bottom: 90px;\n  text-align: center;\n  &.cbd-delivery {\n    background-color: #d1d3cb;\n  }\n  &.stockists-delivery {\n    background-color: transparent;\n    padding: 0;\n  }\n\n  .inner-wrapper {\n    max-width: 820px;\n    padding: 0 4%;\n    margin: 0 auto;\n  }\n  h2,\n  h3 {\n    font-size: 3.8rem;\n    font-family: 'Lora Regular', sans-serif;\n    letter-spacing: 0.09rem;\n    margin: 0 auto;\n    line-height: 1.1;\n    @media screen and (max-width: 768px) {\n      font-size: 2.8rem;\n      max-width: 322px;\n    }\n  }\n  h3 {\n    max-width: 600px;\n  }\n  .delivery-subheading {\n    font-size: 1.8rem;\n    font-family: 'Lora Regular';\n    letter-spacing: 0.03rem;\n    margin-top: 18px;\n    margin-bottom: 45px;\n    @media screen and (max-width: 768px) {\n      max-width: 280px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n  input {\n    display: block;\n    width: 100%;\n    font-family: inherit;\n    border: 0;\n    padding: 16px 12px;\n    background-color: white;\n    box-shadow: none;\n    outline: none;\n    font-size: 1.3rem;\n    margin-bottom: 1.2rem;\n    text-transform: uppercase;\n  }\n  button,\n  .text-button {\n    display: block;\n    width: 100%;\n    padding: 20px 12px 20px;\n    text-align: center;\n    background-color: #333639;\n    color: white;\n    font-size: 1.3rem;\n    font-family: 'Gotham Bold';\n    text-transform: uppercase;\n    letter-spacing: 0.1rem;\n    line-height: 1;\n    cursor: pointer;\n    transition: all 0.3s ease-in-out;\n    &:hover {\n      background-color: #242628;\n    }\n    &.dark-button {\n      max-width: 492px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n  .text-button {\n    background: none;\n    padding: 0;\n    color: #9c8d72;\n    font-size: 1rem;\n    margin-top: 3rem;\n    &:hover {\n      background: none;\n    }\n  }\n  .not-in-ca {\n    color: #9c8d72;\n    font-size: 1rem;\n    font-family: 'Gotham Bold';\n    text-transform: uppercase;\n    letter-spacing: 0.1rem;\n    margin-top: 30px;\n    a {\n      color: inherit;\n    }\n  }\n\n  .button-row {\n    display: flex;\n    justify-content: space-between;\n    flex-wrap: wrap;\n  }\n\n  .gold-btn {\n    background: #9c8d72;\n    color: #f6f6f6;\n    padding: 20px 50px;\n    text-transform: uppercase;\n    font-family: 'Gotham Bold', sans-serif;\n    font-size: 1.3rem;\n    line-height: 1;\n    letter-spacing: 0.1rem;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    transition: all 0.3s ease-in-out;\n    width: 49%;\n    display: inline-block;\n    @media only screen and (max-width: 768px) {\n      width: 100%;\n      margin-bottom: 1rem;\n    }\n    &.solo-btn {\n      width: 100%;\n    }\n    &:hover {\n      background-color: #726c59;\n    }\n  }\n  .not-available-wrapper {\n    h2 {\n      max-width: 600px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n    .delivery-subheading {\n      max-width: 440px;\n      margin-left: auto;\n      margin-right: auto;\n      margin-bottom: 6rem;\n    }\n  }\n  .no-delivery-wrapper {\n    .delivery-section-title {\n      max-width: 540px;\n      margin-left: auto;\n      margin-right: auto;\n      margin-bottom: 6rem;\n    }\n  }\n  .stockists-and-retailers {\n    .section-title {\n      font-size: 1.9rem;\n      margin-bottom: 20px;\n      text-align: left;\n    }\n    li h2 {\n      font-family: 'Gotham Bold';\n    }\n    &.cols-2 {\n      @media only screen and (min-width: 1025px) {\n        grid-column-gap: 70px;\n      }\n    }\n    .stockist-item {\n      border-bottom: 1px solid #ecebe9;\n      display: flex;\n      align-items: center;\n      padding: 26px 0;\n      img {\n        margin-right: 26px;\n      }\n      li {\n        flex-grow: 1;\n        padding: 0;\n        margin-bottom: 0;\n      }\n      &:last-of-type {\n        border-bottom: 0;\n      }\n    }\n    ul {\n      margin-bottom: 70px;\n      @media only screen and (max-width: 1025px) {\n        margin-bottom: 50px;\n      }\n      @media only screen and (max-width: 768px) {\n        margin-bottom: 40px;\n      }\n    }\n    li {\n      border: 0;\n      text-align: left;\n\n      p {\n        font-size: 1.2rem;\n      }\n    }\n    h2 {\n      font-size: 1.4rem;\n    }\n  }\n`;\n\nexport const StockistDeliveryStyles = styled.header`\n  button,\n  .text-button {\n    display: block;\n    width: 100%;\n    padding: 20px 12px 20px;\n    text-align: center;\n    background-color: #333639;\n    color: white;\n    font-size: 1.3rem;\n    font-family: 'Gotham Bold';\n    text-transform: uppercase;\n    letter-spacing: 0.1rem;\n    line-height: 1;\n    cursor: pointer;\n    transition: all 0.3s ease-in-out;\n    &:hover {\n      background-color: #242628;\n    }\n    &.dark-button {\n      max-width: 492px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n  .text-button {\n    background: none;\n    padding: 0;\n    color: #9c8d72;\n    font-size: 1rem;\n    margin-top: 3rem;\n    &:hover {\n      background: none;\n    }\n  }\n\n  .near-you-section {\n    h1 {\n      margin-bottom: 2rem;\n    }\n    .text-button {\n      margin-bottom: 15rem;\n    }\n  }\n\n  .not-near-you-section {\n    text-align: center;\n    &.container {\n      max-width: 635px;\n    }\n    .delivery-subheading:first-of-type {\n      max-width: 465px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n    .delivery-subheading:last-of-type {\n      max-width: 514px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n    h1 {\n      margin-bottom: 1.5rem;\n    }\n    hr {\n      width: 80%;\n      max-width: 590px;\n      margin-left: auto;\n      margin-right: auto;\n      border: 0;\n      border-bottom: 1px solid #979797;\n      margin-top: 52px;\n      margin-bottom: 60px;\n    }\n    p {\n      font-family: 'Lora Regular';\n      font-size: 1.8rem;\n      letter-spacing: 0.1rem;\n    }\n\n    .button-row {\n      display: flex;\n      justify-content: space-between;\n      flex-wrap: wrap;\n      margin-top: 4.5rem;\n      padding-bottom: 3rem;\n    }\n\n    .gold-btn {\n      background: #9c8d72;\n      color: #f6f6f6;\n      padding: 20px 50px;\n      text-transform: uppercase;\n      font-family: 'Gotham Bold', sans-serif;\n      font-size: 1.3rem;\n      line-height: 1;\n      letter-spacing: 0.1rem;\n      outline: none;\n      border: none;\n      cursor: pointer;\n      transition: all 0.3s ease-in-out;\n      width: 49%;\n      display: inline-block;\n      @media only screen and (max-width: 768px) {\n        width: 100%;\n        margin-bottom: 1rem;\n      }\n      &:hover {\n        background-color: #726c59;\n      }\n      &.solo-btn {\n        width: 100%;\n      }\n    }\n  }\n`;\n\nexport default DeliveryStyles;\n","import styled from 'styled-components';\n\nconst Input = styled.input`\n  display: block;\n  text-transform: uppercase;\n  width: 100%;\n  font-family: inherit;\n  border: 0;\n  padding: 16px 12px;\n  background-color: white;\n  box-shadow: none;\n  outline: none;\n  font-size: 1.3rem;\n  margin-bottom: 1.2rem;\n`;\n\nexport default Input;\n","import styled from 'styled-components';\n\nconst NewsletterCallout = styled.div`\n  background-color: #c4c0b0;\n  padding-top: 88px;\n  padding-bottom: 110px;\n  .quote {\n    font-size: 4.3rem;\n    font-family: 'Lora Regular', serif;\n    line-height: 1.15;\n    max-width: 864px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  .container {\n    max-width: 682px;\n    text-align: center;\n  }\n  button {\n    padding: 20px 0;\n    font-size: 1.3rem;\n  }\n  h4 {\n    font-family: 'Lora Regular', serif;\n    font-size: 2.2rem;\n    letter-spacing: 0.08rem;\n    margin-bottom: 40px;\n    @media screen and (max-width: 768px) {\n      max-width: 280px;\n      margin-left: auto;\n      margin-right: auto;\n    }\n  }\n`;\n\nexport default NewsletterCallout;\n","import styled from 'styled-components';\n\nconst QuoteSection = styled.div`\n  background-color: #ecebe9;\n  padding-top: 60px;\n  padding-bottom: 85px;\n  &.last-quote {\n    @media only screen and (max-width: 768px) {\n      padding-bottom: 0;\n      .publication {\n        margin-bottom: 0;\n      }\n    }\n  }\n  .quote {\n    font-size: 3.9rem;\n    line-height: 1.2;\n    text-align: center;\n    max-width: 1040px;\n    margin-right: auto;\n    margin-left: auto;\n    font-family: 'Lora Regular', serif;\n    margin-bottom: 28px;\n    @media screen and (max-width: 768px) {\n      font-size: 3rem;\n    }\n  }\n  .publication {\n    text-align: center;\n    margin-top: 0;\n    text-transform: uppercase;\n    font-family: 'Gotham Bold', sans-serif;\n    letter-spacing: 0.1rem;\n    font-size: 1.2rem;\n    color: #6b6653;\n  }\n`;\n\nexport default QuoteSection;\n","import styled from 'styled-components';\n\nconst ZipCodeCheckStyles = styled.div`\n  position: absolute;\n  position: fixed;\n  top: 75px;\n  right: 0;\n  left: 0;\n  width: 100%;\n  transform: translateY(-120%);\n  transition: all 0.3s;\n  z-index: 90;\n  text-align: center;\n  overflow-y: scroll;\n  height: 100%;\n  @media screen and (max-width: 960px) {\n    top: 44px;\n  }\n  .zip-code-check-wrapper {\n    padding: 90px 20px;\n    /*  585344*/\n    background: #3B3F38;\n    color: white;\n  }\n\n  ${props => props.open && `transform: translateY(0);`};\n  /* box-shadow: rgba(0, 0, 0, 0.3) 0 2px 30px; */\n  h2 {\n    color: white;\n    font-family: 'Lora Regular', serif;\n    font-size: 3.8rem;\n    letter-spacing: 0.1rem;\n    margin-top: 0;\n    line-height: 1.1;\n    @media screen and (max-width: 768px) {\n      font-size: 3.2rem;\n      line-height: 1.2;\n    }\n  }\n  fieldset {\n    border: none;\n  }\n  form {\n    max-width: 440px;\n    margin: 0 auto;\n  }\n  .zip-close {\n    position: absolute;\n    background: transparent;\n    top: 0;\n    right: 0;\n    color: white;\n  }\n  .validation-wrapper {\n    position: relative;\n    padding-bottom: 20px;\n    margin-bottom: 18px;\n  }\n  .error-message {\n    position: absolute;\n    bottom: -15px;\n    left: 0;\n    width: 100%;\n    text-align: left;\n    font-size: 1.2rem;\n  }\n  input {\n    padding: 14px 14px 14px 0;\n    margin-bottom: 0;\n    background: transparent;\n    color: white;\n    border-bottom: 1px solid #8a8475;\n    font-size: 2.6rem;\n    text-align: left;\n    position: relative;\n    transition: all 0.3s ease-in-out;\n\n    &:focus {\n      border-bottom: 1px solid white;\n    }\n    ::-webkit-input-placeholder {\n      /* Chrome/Opera/Safari */\n      color: #8a8475;\n    }\n    ::-moz-placeholder {\n      /* Firefox 19+ */\n      color: #8a8475;\n    }\n    :-ms-input-placeholder {\n      /* IE 10+ */\n      color: #8a8475;\n    }\n    :-moz-placeholder {\n      /* Firefox 18- */\n      color: #8a8475;\n    }\n  }\n  button {\n    background: #726c59;\n    color: #f6f6f6;\n    text-transform: uppercase;\n    font-family: 'Gotham Bold', sans-serif;\n    font-size: 1.3rem;\n    line-height: 1;\n    letter-spacing: 0.1rem;\n    outline: none;\n    border: none;\n    cursor: pointer;\n    transition: all 0.3s ease-in-out;\n    max-width: 554px;\n    width: 100%;\n    padding: 20px 50px;\n    margin-left: auto;\n    margin-right: auto;\n    display: block;\n    margin-top: 0;\n\n    &:hover {\n      background-color: #686351;\n    }\n  }\n  .wider {\n    margin-top: 0;\n    background-color: #988c66;\n  }\n`;\n\nexport default ZipCodeCheckStyles;\n","import styled from 'styled-components';\n\nexport const StockistWrapper = styled.main`\n  background-color: #ecebe9;\n  padding-top: 100px;\n  padding-bottom: 30px;\n  @media only screen and (max-width: 768px) {\n    padding-top: 70px;\n  }\n  h1 {\n    font-size: 7.8rem;\n    font-family: 'Lora Regular', serif;\n    letter-spacing: 0.1rem;\n    text-align: center;\n    max-width: 1200px;\n    margin: 0 auto 50px;\n    line-height: 1.1;\n    @media only screen and (max-width: 1000px) {\n      font-size: 50px;\n    }\n    @media only screen and (max-width: 768px) {\n      font-size: 39px;\n      width: 92%;\n    }\n  }\n\n  header {\n    .container {\n      max-width: 595px;\n    }\n    form {\n      margin-bottom: 115px;\n    }\n    button {\n      padding-top: 2rem;\n      padding-bottom: 2rem;\n    }\n  }\n  .newsletter-callout {\n    padding-top: 0;\n    form {\n      padding-top: 0;\n    }\n  }\n`;\n\nexport const StockistsSection = styled.section`\n  .section-title {\n    font-family: 'Lora Regular', serif;\n    font-size: 3.1rem;\n    margin-bottom: 16px;\n    margin-top: 70px;\n    @media screen and (max-width: 768px) {\n      font-size: 2.5rem;\n    }\n  }\n  .view-more-btn {\n    max-width: 390px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n  img {\n    display: inline-block;\n    margin-right: 14px;\n    @media screen and (max-width: 768px) {\n      width: 28px;\n    }\n  }\n`;\n","// This is client side config only - don't put anything in here that shouldn't be public!\nexport const endpoint = `http://localhost:4444`;\nexport const perPage = 4;\nexport const PRISMIC_API_URL = 'https://lowell-herb-co.prismic.io/api/v2';\n","// Link Resolver\nfunction linkResolver(doc) {\n  // Define the url depending on the document type\n  if (doc.type === 'page') {\n    return `/page/${doc.uid}`;\n  }\n  if (doc.type === 'blog_post') {\n    return `/blog/${doc.uid}`;\n  }\n\n  // Default to homepage\n  return '/';\n}\n\nfunction mapStockistsToZip(stockists) {\n  return stockists.map(stockist => {\n    if (stockist.stockist_address != '') {\n      const str = stockist.stockist_address[0].text;\n      const fiveDigitNumbers = str.match(/\\b\\d{5}\\b/g);\n      // Get last five digit number - the zip code\n      const zip =\n        fiveDigitNumbers != undefined ? fiveDigitNumbers.slice(-1)[0] : '';\n\n      // console.log(parseInt(zip, 10)); // [\"12345\", \"54321\"]\n      stockist.zip = zip;\n    }\n\n    return stockist;\n  });\n}\n\nfunction findClosestDeliveryServices(allDeliveryServices, zipCode) {\n  const closestDeliveryServices = [];\n\n  for (let i = 0; i < allDeliveryServices.length; i++) {\n    // console.log(allDeliveryServices[i]);\n    if (allDeliveryServices[i].delivery_service_zip_codes != '') {\n      const deliveryZipCodes =\n        allDeliveryServices[i].delivery_service_zip_codes[0].text;\n\n      const isInDeliveryRange = deliveryZipCodes.includes(zipCode);\n      // console.log(isInDeliveryRange);\n\n      // console.log(distance);\n      if (isInDeliveryRange) {\n        closestDeliveryServices.push(allDeliveryServices[i]);\n      }\n    }\n  }\n\n  return closestDeliveryServices;\n}\n\nfunction findClosestRetailers(allRetailers, zipCode, zipcodes) {\n  // Find retailers and delivery services closest to zip code\n  const closestRetailers = [];\n\n  for (let i = 0; i < allRetailers.length; i++) {\n    if (allRetailers[i].zip != undefined) {\n      allRetailers[i].distance =\n        zipCode != null\n          ? zipcodes.distance(zipCode, allRetailers[i].zip)\n          : 1001;\n\n      // console.log(distance);\n      if (allRetailers[i].distance != null) {\n        closestRetailers.push(allRetailers[i]);\n      }\n    }\n  }\n\n  closestRetailers.sort(function(a, b) {\n    return a.distance - b.distance;\n  });\n\n  return closestRetailers;\n}\n\nmodule.exports = {\n  linkResolver,\n  mapStockistsToZip,\n  findClosestDeliveryServices,\n  findClosestRetailers,\n};\n","/* eslint-disable react/prop-types */\nimport React, { Component } from 'react';\n// A new API request that will create in just a tick\nimport { getPageApi } from '../api';\n// Here we are reusing our layout again\nimport Stockists from '../components/Stockists';\n\nexport default class StockistsPage extends Component {\n  static async getInitialProps() {\n    // we get the pageId of the post so that we can\n    // query the API with it\n    const pageId = 'XJbmbhEAAPHUozLk';\n    const response = await getPageApi(pageId);\n    return {\n      page: response,\n    };\n  }\n\n  render() {\n    const { page, newsletter, quotes, zipCodes } = this.props;\n    const { data } = page;\n    return (\n      <Stockists\n        pageData={data}\n        zipCodeData={zipCodes}\n        newsletterData={newsletter}\n        quotesData={quotes}\n      />\n    );\n  }\n}\n","module.exports = require(\"@babel/runtime/regenerator\");","module.exports = require(\"graphql-tag\");","module.exports = require(\"next/head\");","module.exports = require(\"prismic-javascript\");","module.exports = require(\"prismic-reactjs\");","module.exports = require(\"react\");","module.exports = require(\"react-apollo\");","module.exports = require(\"styled-components\");","module.exports = require(\"zipcodes\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAGA;AAHA;AAAA;AAUA;AAHA;AACA;AARA;AAOA;AAPA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAqBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAMA;AAAA;AACA;AAPA;AAIA;AAJA;AACA;AADA;AAAA;AAAA;AAUA;AAVA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAcA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAEA;AAFA;AAAA;AAMA;AAAA;AACA;AAPA;AAIA;AAJA;AACA;AADA;AAAA;AAAA;AAUA;AAVA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzCA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAMA;AACA;AAKA;;;;;;;;;;;;;;;;;;AACA;AACA;AAAA;AACA;AAAA;AACA;AAHA;AACA;AAeA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;;;;;;AArBA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AACA;;;AAcA;AAAA;AACA;AADA;AAAA;AAAA;AAGA;AAEA;AACA;AAAA;AAGA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AAGA;AACA;AACA;AADA;AACA;AACA;AAKA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAYA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAaA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAaA;AACA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAaA;AACA;AACA;AACA;AAEA;AACA;AAFA;AAYA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AAFA;AAcA;AA/JA;AAoKA;;;;AA5MA;AACA;AA8MA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnOA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AACA;AACA;AADA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;;;;;;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAXA;AACA;AAaA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AAaA;AAAA;AACA;AA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;;;;;;;;AC/HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AA4CA;AAAA;AAAA;AAAA;;;;;;;;;;;;AC9CA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AAWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAEA;AACA;AACA;AACA;AAJA;AAOA;;;;;;;;;;;;AApBA;AACA;AACA;;AACA;AACA;;AADA;AACA;AACA;AADA;AACA;;;;;;;;;;;;;;;;;;AAPA;AACA;;;;;;;;;;;;;;;;;;;;;;;;ACRA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}